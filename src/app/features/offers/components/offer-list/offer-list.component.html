<div class="container">
  @if (offers$ | async; as offers) {
    @if (offers.length) {
      <div class="offers-grid">
        @for (offer of offers; track offer.id) {
          <mat-card class="offer-card" [routerLink]="['/offers', offer.id]">
            <img mat-card-image [src]="offer.imageUrl" [alt]="offer.title" loading="lazy">

            <mat-card-header>
              <mat-card-title>{{ offer.title }}</mat-card-title>
              <mat-card-subtitle class="merchant-subtitle">{{ offer.merchant }}</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content>
              <p>{{ offer.description }}</p>
            </mat-card-content>

            <mat-card-actions>
              <mat-chip>â‚¬{{ offer.price }}</mat-chip>
              <span class="spacer"></span>
              <mat-icon>star</mat-icon>
              <span class="vote-count">{{ offer.votes }}</span>
            </mat-card-actions>
          </mat-card>
        }
      </div>
    } @else {
      <div class="center">
        <h2>No offers available</h2>
        <p>Check back later for new deals!</p>
      </div>
    }
  }
</div>
